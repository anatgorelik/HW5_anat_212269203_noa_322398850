<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="utf-8">
<title>תפריט</title>

<style>
body{
    background-color:#2B1B17;
    direction:rtl;
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin:0;
    padding:20px;
    background-image: url("images/backGrountCoffee.JPG");

}

.container{
    display:flex;
    flex-direction:column;
    gap:30px;
    margin-top:120px;
}

#title-menu{
    position:fixed;
    top:30px;
    right:30px;
    color:#F5EFE6;
    font-size:40px;
    font-weight:bold;
}

.row{
    display:grid;
    grid-template-columns:1fr 1fr 1fr;
    gap:20px;
}

.menuBox{
    background-color:#F5EFE6;
    border-radius:20px;
    min-height:120px;
    font-size:22px;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    transition:0.3s;
}

/* ---------- POPUP ---------- */

.popup{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:520px;
    min-height:300px;
    background-color:#F5EFE6;
    border-radius:20px;
    padding:30px;
    display:none;
    z-index:2000;
    box-shadow:0 10px 40px rgba(0,0,0,0.4);
}

#popupContent{
    font-size:20px;
    line-height:1.6;
    color:#2B1B17;
}

#btnClose{
    position:absolute;
    top:15px;
    left:15px;
    width:40px;
    height:40px;
    background-color:#2B1B17;
    color:#F5EFE6;
    border:none;
    border-radius:10px;
    font-size:18px;
    cursor:pointer;
}

/* ---------- MENU ITEMS ---------- */

.menuItem{
    margin-bottom:15px;
    border-bottom:1px solid #ccc;
    padding-bottom:10px;
}
</style>
</head>

<body>

<div id="title-menu">תפריט:</div>

<div class="container">

    <div class="row">
        <div class="menuBox" id="1">ארוחות בוקר</div>
        <div class="menuBox" id="2">כריכים</div>
        <div class="menuBox" id="3">טוסטים</div>
    </div>

    <div class="row">
        <div class="menuBox" id="4">סלטים</div>
        <div class="menuBox" id="5">מאפים</div>
        <div class="menuBox" id="6">משקאות</div>
    </div>

</div>

<!-- POPUP -->
<div id="popup" class="popup">
    <button id="btnClose">X</button>
    <div id="popupContent"></div>
</div>

<script>

    const menuBoxes = document.querySelectorAll(".menuBox");
    const popup = document.getElementById("popup");
    const popupContent = document.getElementById("popupContent");
    const closeBtn = document.getElementById("btnClose");

    /* הצגת תפריט לפי CategoryId */
    function showMenu(categoryId) {

        const data = JSON.parse(localStorage.getItem("menuItems"));
        if (!data) return;

        popupContent.innerHTML = ""; // ניקוי קודם

        // כותרת
        const title = document.createElement("h2");
        title.textContent = getCategoryName(Number(categoryId));
        popupContent.appendChild(title);

        // סינון פריטים לפי קטגוריה
        const items = data.filter(item => item.CategoryId === Number(categoryId));

        items.forEach(item => {

            const itemDiv = document.createElement("div");
            itemDiv.className = "menuItem";

            const name = document.createElement("strong");
            name.textContent = item.ProductName;

            const price = document.createElement("span");
            price.textContent = " ₪" + item.Price;

            const br = document.createElement("br");

            itemDiv.appendChild(name);
            itemDiv.appendChild(br);
            itemDiv.appendChild(price);

            popupContent.appendChild(itemDiv);
        });

        popup.style.display = "block";
    }

    /* מיפוי שמות קטגוריות */
    function getCategoryName(id) {
        const map = {
            1: "ארוחות בוקר",
            2: "כריכים",
            3: "טוסטים",
            4: "סלטים",
            5: "מאפים",
            6: "משקאות"
        };
        return map[id];
    }

    /* חיבור הקופסאות */
    menuBoxes.forEach(box => {

        box.addEventListener("mouseenter", () => {
            box.style.backgroundColor = "#F6DADF";
        });

        box.addEventListener("mouseleave", () => {
            box.style.backgroundColor = "#F5EFE6";
        });

        box.addEventListener("click", () => {
            showMenu(box.id);
        });

    });

    /* סגירה */
    closeBtn.addEventListener("click", () => {
        popup.style.display = "none";
    });
</script>

</body>
</html>
